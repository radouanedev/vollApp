<ion-header>
    <ion-toolbar>
        <ion-title>
            {{words.add_airplane_string}}
        </ion-title>
        <ion-buttons end>
            <button ion-button (click)="dismiss()" end>
                <span ion-text color="primary" showWhen="ios">{{words.cancel_string}}</span>
                <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content padding>

    <form novalidate
          (ngSubmit)="addAction()"
          [formGroup]="myform">

        <ion-grid>

            <ion-row>
                <ion-col>
                    <ion-item>

                        <ion-input [(ngModel)]="avion.nom"
                                   formControlName="nom"
                                   name="nom"
                                   type="text"
                                   placeholder="{{words.name_string}}" > </ion-input>

                    </ion-item>

                    <s-errors [control]="myform.controls.nom" [messages]="myform.nomMessages"></s-errors>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-col>
                    <ion-item>

                        <ion-textarea [(ngModel)]="avion.description"
                                   formControlName="description"
                                   type="text"
                                   name="description"
                                   placeholder="{{words.description_string}}"> </ion-textarea>

                    </ion-item>

                    <s-errors [control]="myform.controls.description" [messages]="myform.descriptionMessages"></s-errors>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-col>
                    <ion-item>

                        <ion-input [(ngModel)]="avion.nbrePlcMax"
                                   formControlName="nbrePlcMax"
                                   type="number"
                                   name="nbrePlcMax"
                                   placeholder="{{words.nbre_max_place_string}}"> </ion-input>

                    </ion-item>

                    <s-errors [control]="myform.controls.nbrePlcMax" [messages]="myform.nbrePlcMaxMessages"></s-errors>
                </ion-col>
            </ion-row>

            <ion-row padding-top text-center>
                <ion-col>
                    <button ion-button small icon-left color="light" (click)="choose()" >
                        <ion-icon ios="ios-folder-open" md="md-folder-open"></ion-icon>
                        {{words.choose_img_airplane_string}}
                    </button>

                    <span class="text-md-danger" class="errorText" *ngIf="imageError">{{imageError}}</span>
                </ion-col>
            </ion-row>

            <ion-row text-center *ngIf="imageURL" >
                <ion-col>
                    <img  [src]="imageURL" padding width="50%" height="230px">
                </ion-col>
            </ion-row>

            <ion-row padding-top>
                <ion-col>
                    <button ion-button color="primary" type="submit"
                            [disabled]="myform.invalid || !imageURL" block>{{words.add_string}}</button>
                </ion-col>
            </ion-row>

        </ion-grid>

    </form>

</ion-content>